<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/style.css" />
    <title>Tutorial Membuat Tabel</title>
    <style>
       button {
        background-color: #55ace3;
        color: #fff;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
    </style>
</head>
<body>
    <div class="container">
        <nav id="header">
            <div class="nav-logo">
                <p class="nav-name">Canvas</p>
                <span>.</span>
            </div>
        </nav>

        <main class="wrapper">
            <section class="section" id="tutorials">
              <div class="top-header">
                <br>
                <h1>Tutorial: CSS Basics</h1>
              </div>
    
              <!-- Card Style untuk Latihan kanvas -->
              <div class="tutorial-box">
                <h2>Tutorial membuat canvas</h2>
                <p>
                Latihan untuk membuat canvas secara sederhana menggunakan html dan css.
                </p>
                      
                <h3>HTML & CSS Code:</h3>
                <textarea
                  class="editor"
                  rows="20"
                  id="contentCode"
                  placeholder="Masukkan kode HTML dan CSS di sini"
                >
                <!DOCTYPE html>
                <html>
                    <link rel="stylesheet" href="assets/css/style.css" />
                <body>    
                    <p>Pilih gambar:</p>
                    <img id="gambar" src="assets/images/sukulen.jpg" alt="" width="220" height="277">
                    <p>Mengisi :</p>
                    <canvas id="kanvas" width="220" height="277" style="border:1px solid #797474;">
                        Your browser does not support the HTML5 canvas tag.
                    </canvas>
                    <p><button onclick="kanvas()">Try it</button></p>
                </body>
                </html>
                </textarea>
                
                <button class="run-button" onclick="runContentCode()">Run</button>
                <button class="undo-button" onclick="undoContentCode()">Undo</button>
                
                <!-- Keterangan hasil -->
                <h3 id="resultHeader" style="display: none;">Hasil:</h3>
                <div class="preview" id="previewContent"></div>
              </div>
            </section>
        </main>

        <!-- ----- MAIN JS ----- -->
        <script>
            // Riwayat Kode
            let contentCodeHistory = [];

            // Fungsi untuk menjalankan kode konten
            function runContentCode() {
              const code = document.getElementById("contentCode").value;
              document.getElementById("previewContent").innerHTML = code;
              document.getElementById("resultHeader").style.display = "block"; // Menampilkan keterangan hasil
              contentCodeHistory.push(code);
            }

            function kanvas(){
              var c = document.getElementById("kanvas");
              var ctx = c.getContext("2d");
              var img = document.getElementById("gambar");
              ctx.drawImage(img, 0, 0, c.width, c.height);
            }

            function undoContentCode() {
              if (contentCodeHistory.length > 1) {
                contentCodeHistory.pop(); // Hapus entri terakhir
                const previousCode = contentCodeHistory[contentCodeHistory.length - 1];
                document.getElementById("contentCode").value = previousCode;
                document.getElementById("previewContent").innerHTML = previousCode; // Perbarui preview
              } else {
                document.getElementById("previewContent").innerHTML = ""; // Hapus hasil jika tidak ada riwayat
                document.getElementById("contentCode").value = ""; // Hapus input juga
              }
            }
        </script>
    </div>
</body>
</html>
